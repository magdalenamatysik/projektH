{% extends 'base.html.twig'  %}




{% block body %}




    <div id="container">



        <div id="menu">

            <a href="/harmonogram" style="text-decoration: none" >
            <div id ="user_panel">
                <div id="tekstt">
                    Hej, {{ user.login }}
                </div>

            </div>
            </a>



            <a href="/add" style="text-decoration: none" >

                <div id= "add_meetbox" style="background-color:#e6db55">
                    <div id="tekst">
                        dodaj zadanie
                    </div>
                </div>
            </a>

            <a href="/addmeet" style="text-decoration: none" >

                <div id= "add_meetbox">
                    <div id="tekst">
                        dodaj spotkanie
                    </div>
                </div>
            </a>


        </div>

        <div id="list" >
            <div class="listcolumn" id="1" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div class="listcolumn" id="2" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div class="listcolumn" id="3" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div class="listcolumn" id="4" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div class="listcolumn" id="5" ondrop="drop(event)" ondragover="allowDrop(event)"></div>

        </div>




        <div id="harm">
            <div class="tekst2">{{ days[0] }}.{{ days[1] }} Poniedziałek </div>
            <div class="tekst2">{{ days[2] }}.{{ days[3] }} Wtorek</div>
            <div class="tekst2">{{ days[4] }}.{{ days[5] }} Środa</div>
            <div class="tekst2">{{ days[6] }}.{{ days[7] }} Czwartek</div>
            <div class="tekst2">{{ days[8] }}.{{ days[9] }} Piątek</div>
            <div class="tekst2">{{ days[10] }}.{{ days[11] }} Sobota</div>
            <div class="tekst2">{{ days[12] }}.{{ days[13] }} Niedziela</div>

            <div class="day" id="mon" ondrop="drop(event)" ondragover="allowDrop(event)">
            </div>
            <div class="day" id="tue"  ondrop="drop(event)" ondragover="allowDrop(event)">

            </div>
            <div class="day" id="wed" ondrop="drop(event)" ondragover="allowDrop(event)">

            </div>
            <div class="day" id="thu" ondrop="drop(event)" ondragover="allowDrop(event)">

            </div>
            <div class="day" id="fri" ondrop="drop(event)" ondragover="allowDrop(event)">

            </div>
            <div class="day" id="sat" ondrop="drop(event)" ondragover="allowDrop(event)">

            </div>
            <div class="day" id="sun" ondrop="drop(event)" ondragover="allowDrop(event)">

            </div>


        </div>



    </div>
    {% block javascript %}
        <script>


            var div_list =document.getElementById("1");
            var div_list2 =document.getElementById("2");
            var div_list3 =document.getElementById("3");
            var div_list4 =document.getElementById("4");
            var div_list5 =document.getElementById("5");

            var i=0;

            {% for job in jobs %}
            if(i==1) div_list.insertAdjacentHTML('afterbegin', '   <a href="/show/{{ job.id }}" draggable="true" ondragstart="drag(event)" id="{{ job.id }}"> <div class ="task" style ="height: {{ job.duration*20 }}px"> {{ job.name }} </div>  </a>');
            if(i==2) div_list2.insertAdjacentHTML('afterbegin', '   <a href="/show/{{ job.id }}" draggable="true" ondragstart="drag(event)" id="{{ job.id }}" > <div class ="task"  style ="height: {{ job.duration*20}}px"> {{ job.name }} </div>  </a>');
            if(i==3) div_list3.insertAdjacentHTML('afterbegin', '   <a href="/show/{{ job.id }}" draggable="true" ondragstart="drag(event)" id="{{ job.id }}"> <div class ="task" style ="height: {{ job.duration*20}}px"> {{ job.name }} </div>  </a>');
            if(i==4) div_list4.insertAdjacentHTML('afterbegin', '   <a href="/show/{{ job.id }}" draggable="true" ondragstart="drag(event)" id="{{ job.id }}" > <div class ="task" style ="height: {{ job.duration*20}}px"> {{ job.name }} </div>  </a>');
            if(i==5) {
                div_list5.insertAdjacentHTML('afterbegin', '   <a href="/show/{{ job.id }}" draggable="true" ondragstart="drag(event)" id="{{ job.id }}"> <div class ="task" style ="height: {{ job.duration*20 }}px"> {{ job.name }} </div>  </a>');
                i=0;
            }
            i++;
            {% endfor %}


            var div_mon =document.getElementById("mon");
            var div_tue =document.getElementById("tue");
            var div_wed =document.getElementById("wed");
            var div_thu =document.getElementById("thu");
            var div_fri =document.getElementById("fri");
            var div_sat =document.getElementById("sat");
            var div_sun =document.getElementById("sun");



            {% for m in mon %}

                    div_mon.insertAdjacentHTML('afterbegin', '   <a href="/show/{{ m.id }}"  > <div class ="task" style ="height:  {{ m.duration*20 }}px; background-color: #b7EE6E"> {{ m.name }} </div>  </a>');

            {% endfor %}

            {% for t in tue %}

                    div_tue.insertAdjacentHTML('afterbegin', '   <a href="/show/{{ t.id }}"  > <div class ="task" style ="height:  {{ t.duration*20 }}px; background-color: #b7EE6E"> {{ t.name }} </div>  </a>');

            {% endfor %}

            {% for t in wed %}

                    div_wed.insertAdjacentHTML('afterbegin', '   <a href="/show/{{ t.id }}"  > <div class ="task" style ="height:  {{ t.duration*20 }}px; background-color: #b7EE6E"> {{ t.name }} </div>  </a>');

            {% endfor %}

            {% for t in thu %}

                    div_thu.insertAdjacentHTML('afterbegin', '   <a href="/show/{{ t.id }}"  > <div class ="task" style ="height:  {{ t.duration*20 }}px; background-color: #b7EE6E"> {{ t.name }} </div>  </a>');

            {% endfor %}

            {% for t in fri %}

                    div_fri.insertAdjacentHTML('afterbegin', '   <a href="/show/{{ t.id }}"  > <div class ="task" style ="height:  {{ t.duration*20 }}px; background-color: #b7EE6E"> {{ t.name }} </div>  </a>');

            {% endfor %}

            {% for t in sat %}

                    div_sat.insertAdjacentHTML('afterbegin', '   <a href="/show/{{ t.id }}"  > <div class ="task" style ="height:  {{ t.duration*20 }}px; background-color: #b7EE6E"> {{ t.name }} </div>  </a>');

            {% endfor %}

            {% for t in sun %}

            div_sun.insertAdjacentHTML('afterbegin', '   <a href="/show/{{ t.id }}"  > <div class ="task" style ="height: {{ t.duration*20 }}px;background-color: #b7EE6E"> {{ t.name }} </div>  </a>');

            {% endfor %}


            function allowDrop(ev) {
                ev.preventDefault();
            }

            function drag(ev) {
                ev.dataTransfer.setData("text", ev.target.id);
            }

            function drop(ev) {
                ev.preventDefault();
                var data = ev.dataTransfer.getData("text");
                ev.target.appendChild(document.getElementById(data));

            }



        </script>

    {% endblock %}






{% endblock %}





